// mustache@4.2.0 downloaded from https://ga.jspm.io/npm:mustache@4.2.0/mustache.js

var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var t={};(function(e,r){t=r()})(0,(function(){var t=Object.prototype.toString;var r=Array.isArray||function isArrayPolyfill(e){return"[object Array]"===t.call(e)};function isFunction(e){return"function"===typeof e}function typeStr(e){return r(e)?"array":typeof e}function escapeRegExp(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(e,t){return null!=e&&"object"===typeof e&&t in e}function primitiveHasOwnProperty(e,t){return null!=e&&"object"!==typeof e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var n=RegExp.prototype.test;function testRegExp(e,t){return n.call(e,t)}var a=/\S/;function isWhitespace(e){return!testRegExp(a,e)}var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function escapeHtml(e){return String(e).replace(/[&<>"'`=\/]/g,(function fromEntityMap(e){return i[e]}))}var s=/\s*/;var o=/\s+/;var p=/\s*=/;var c=/\s*\}/;var l=/#|\^|\/|>|\{|&|=|!/;function parseTemplate(e,t){if(!e)return[];var n=false;var a=[];var i=[];var h=[];var f=false;var v=false;var g="";var d=0;function stripSpace(){if(f&&!v)while(h.length)delete i[h.pop()];else h=[];f=false;v=false}var y,w,m;function compileTags(e){"string"===typeof e&&(e=e.split(o,2));if(!r(e)||2!==e.length)throw new Error("Invalid tags: "+e);y=new RegExp(escapeRegExp(e[0])+"\\s*");w=new RegExp("\\s*"+escapeRegExp(e[1]));m=new RegExp("\\s*"+escapeRegExp("}"+e[1]))}compileTags(t||u.tags);var C=new Scanner(e);var x,b,T,k,E,S;while(!C.eos()){x=C.pos;T=C.scanUntil(y);if(T)for(var W=0,P=T.length;W<P;++W){k=T.charAt(W);if(isWhitespace(k)){h.push(i.length);g+=k}else{v=true;n=true;g+=" "}i.push(["text",k,x,x+1]);x+=1;if("\n"===k){stripSpace();g="";d=0;n=false}}if(!C.scan(y))break;f=true;b=C.scan(l)||"name";C.scan(s);if("="===b){T=C.scanUntil(p);C.scan(p);C.scanUntil(w)}else if("{"===b){T=C.scanUntil(m);C.scan(c);C.scanUntil(w);b="&"}else T=C.scanUntil(w);if(!C.scan(w))throw new Error("Unclosed tag at "+C.pos);E=">"==b?[b,T,x,C.pos,g,d,n]:[b,T,x,C.pos];d++;i.push(E);if("#"===b||"^"===b)a.push(E);else if("/"===b){S=a.pop();if(!S)throw new Error('Unopened section "'+T+'" at '+x);if(S[1]!==T)throw new Error('Unclosed section "'+S[1]+'" at '+x)}else"name"===b||"{"===b||"&"===b?v=true:"="===b&&compileTags(T)}stripSpace();S=a.pop();if(S)throw new Error('Unclosed section "'+S[1]+'" at '+C.pos);return nestTokens(squashTokens(i))}function squashTokens(e){var t=[];var r,n;for(var a=0,i=e.length;a<i;++a){r=e[a];if(r)if("text"===r[0]&&n&&"text"===n[0]){n[1]+=r[1];n[3]=r[3]}else{t.push(r);n=r}}return t}function nestTokens(e){var t=[];var r=t;var n=[];var a,i;for(var s=0,o=e.length;s<o;++s){a=e[s];switch(a[0]){case"#":case"^":r.push(a);n.push(a);r=a[4]=[];break;case"/":i=n.pop();i[5]=a[2];r=n.length>0?n[n.length-1][4]:t;break;default:r.push(a)}}return t}function Scanner(t){(this||e).string=t;(this||e).tail=t;(this||e).pos=0}Scanner.prototype.eos=function eos(){return""===(this||e).tail};Scanner.prototype.scan=function scan(t){var r=(this||e).tail.match(t);if(!r||0!==r.index)return"";var n=r[0];(this||e).tail=(this||e).tail.substring(n.length);(this||e).pos+=n.length;return n};Scanner.prototype.scanUntil=function scanUntil(t){var r,n=(this||e).tail.search(t);switch(n){case-1:r=(this||e).tail;(this||e).tail="";break;case 0:r="";break;default:r=(this||e).tail.substring(0,n);(this||e).tail=(this||e).tail.substring(n)}(this||e).pos+=r.length;return r};function Context(t,r){(this||e).view=t;(this||e).cache={".":(this||e).view};(this||e).parent=r}Context.prototype.push=function push(t){return new Context(t,this||e)};Context.prototype.lookup=function lookup(t){var r=(this||e).cache;var n;if(r.hasOwnProperty(t))n=r[t];else{var a,i,s,o=this||e,p=false;while(o){if(t.indexOf(".")>0){a=o.view;i=t.split(".");s=0;while(null!=a&&s<i.length){s===i.length-1&&(p=hasProperty(a,i[s])||primitiveHasOwnProperty(a,i[s]));a=a[i[s++]]}}else{a=o.view[t];p=hasProperty(o.view,t)}if(p){n=a;break}o=o.parent}r[t]=n}isFunction(n)&&(n=n.call((this||e).view));return n};function Writer(){(this||e).templateCache={_cache:{},set:function set(t,r){(this||e)._cache[t]=r},get:function get(t){return(this||e)._cache[t]},clear:function clear(){(this||e)._cache={}}}}Writer.prototype.clearCache=function clearCache(){"undefined"!==typeof(this||e).templateCache&&(this||e).templateCache.clear()};Writer.prototype.parse=function parse(t,r){var n=(this||e).templateCache;var a=t+":"+(r||u.tags).join(":");var i="undefined"!==typeof n;var s=i?n.get(a):void 0;if(void 0==s){s=parseTemplate(t,r);i&&n.set(a,s)}return s};Writer.prototype.render=function render(e,t,r,n){var a=this.getConfigTags(n);var i=this.parse(e,a);var s=t instanceof Context?t:new Context(t,void 0);return this.renderTokens(i,s,r,e,n)};Writer.prototype.renderTokens=function renderTokens(e,t,r,n,a){var i="";var s,o,p;for(var c=0,l=e.length;c<l;++c){p=void 0;s=e[c];o=s[0];"#"===o?p=this.renderSection(s,t,r,n,a):"^"===o?p=this.renderInverted(s,t,r,n,a):">"===o?p=this.renderPartial(s,t,r,a):"&"===o?p=this.unescapedValue(s,t):"name"===o?p=this.escapedValue(s,t,a):"text"===o&&(p=this.rawValue(s));void 0!==p&&(i+=p)}return i};Writer.prototype.renderSection=function renderSection(t,n,a,i,s){var o=this||e;var p="";var c=n.lookup(t[1]);function subRender(e){return o.render(e,n,a,s)}if(c){if(r(c))for(var l=0,u=c.length;l<u;++l)p+=this.renderTokens(t[4],n.push(c[l]),a,i,s);else if("object"===typeof c||"string"===typeof c||"number"===typeof c)p+=this.renderTokens(t[4],n.push(c),a,i,s);else if(isFunction(c)){if("string"!==typeof i)throw new Error("Cannot use higher-order sections without the original template");c=c.call(n.view,i.slice(t[3],t[5]),subRender);null!=c&&(p+=c)}else p+=this.renderTokens(t[4],n,a,i,s);return p}};Writer.prototype.renderInverted=function renderInverted(e,t,n,a,i){var s=t.lookup(e[1]);if(!s||r(s)&&0===s.length)return this.renderTokens(e[4],t,n,a,i)};Writer.prototype.indentPartial=function indentPartial(e,t,r){var n=t.replace(/[^ \t]/g,"");var a=e.split("\n");for(var i=0;i<a.length;i++)a[i].length&&(i>0||!r)&&(a[i]=n+a[i]);return a.join("\n")};Writer.prototype.renderPartial=function renderPartial(e,t,r,n){if(r){var a=this.getConfigTags(n);var i=isFunction(r)?r(e[1]):r[e[1]];if(null!=i){var s=e[6];var o=e[5];var p=e[4];var c=i;0==o&&p&&(c=this.indentPartial(i,p,s));var l=this.parse(c,a);return this.renderTokens(l,t,r,c,n)}}};Writer.prototype.unescapedValue=function unescapedValue(e,t){var r=t.lookup(e[1]);if(null!=r)return r};Writer.prototype.escapedValue=function escapedValue(e,t,r){var n=this.getConfigEscape(r)||u.escape;var a=t.lookup(e[1]);if(null!=a)return"number"===typeof a&&n===u.escape?String(a):n(a)};Writer.prototype.rawValue=function rawValue(e){return e[1]};Writer.prototype.getConfigTags=function getConfigTags(e){return r(e)?e:e&&"object"===typeof e?e.tags:void 0};Writer.prototype.getConfigEscape=function getConfigEscape(e){return e&&"object"===typeof e&&!r(e)?e.escape:void 0};var u={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){h.templateCache=e},get templateCache(){return h.templateCache}};var h=new Writer;u.clearCache=function clearCache(){return h.clearCache()};u.parse=function parse(e,t){return h.parse(e,t)};u.render=function render(e,t,r,n){if("string"!==typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+typeStr(e)+'" was given as the first argument for mustache#render(template, view, partials)');return h.render(e,t,r,n)};u.escape=escapeHtml;u.Scanner=Scanner;u.Context=Context;u.Writer=Writer;return u}));var r=t;export default r;

